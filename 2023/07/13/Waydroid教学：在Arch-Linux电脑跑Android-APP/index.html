<!DOCTYPE html><html lang="en" theme-mode="dark"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Waydroid教学：在Arch Linux电脑跑Android APP | xue的个人博客</title><link rel="icon" type="image/x-icon" href="/favicon.ico"><script>var config = {"root":"/","search":{"preload":false,"activeHolder":"Enter here","blurHolder":"Search","noResult":"Data \"$0\" not found"},"code":{"codeInfo":"$0 - $1 lines","copy":"copy","copyFinish":"copied","expand":"expand"}}</script><script src="//unpkg.com/mermaid@9.2.2/dist/mermaid.min.js"></script><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lightgallery.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-zoom.css"><link type="text/css" rel="stylesheet" href="//unpkg.com/lightgallery@2.7.1/css/lg-thumbnail.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/brands.min.css"><link type="text/css" rel="stylesheet" href="/lib/fontawesome/fontawesome.min.css"><link rel="stylesheet" href="/css/arknights.css"><script>if (window.localStorage.getItem('theme-mode') === 'light') document.documentElement.setAttribute('theme-mode', 'light')
if (window.localStorage.getItem('theme-mode') === 'dark') document.documentElement.setAttribute('theme-mode', 'dark')</script><style>@font-face {
 font-family: BenderLight;
 src: local('Bender'), url("/font/BenderLight.ttf");
}
@font-face {
 font-family: 'JetBrains Mono';
 src: local('JetBrains Mono'), url('/font/JetBrainsMono-Regular.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Brands';
 src: local('Font Awesome 6 Brands'), url('/lib/fontawesome/fa-brands.woff2') format('woff2');
}
@font-face {
 font-family: 'Font Awesome 6 Free';
 src: local('Font Awesome 6 Free'), url('/lib/fontawesome/fa-regular.woff2') format('woff2');
}</style><style>:root {
  --dark-background: url('https://ak.hypergryph.com/assets/index/images/ak/pc/bk.jpg');
  --light-background: url('/img/bk.jpg');
}</style><meta name="generator" content="Hexo 7.0.0-rc2"></head><body><div class="loading" style="opacity: 0"><div class="loadingBar left"></div><div class="loadingBar right"></div></div><main><header class="closed"><nav><div class="navBtn hide"><i class="navBtnIcon"><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span><span class="navBtnIconBar"></span></i></div><div class="navItem" id="search-header"><span class="navItemTitle"><input autocomplete="off" autocorrect="off" autocapitalize="none" placeholder="Search" spellcheck="false" maxlength="50" type="text" id="search-input"></span></div><div class="navItem" id="search-holder"></div><div class="search-popup"><div id="search-result"></div></div><ol class="navContent"><li class="navItem"><a class="navBlock" href="/"><span class="navItemTitle">Home</span></a></li><li class="navItem" matchdata="categories,tags"><a class="navBlock" href="/archives/"><span class="navItemTitle">Archives</span></a></li><li class="navItem"><a class="navBlock" href="/categories/"><span class="navItemTitle">About</span></a></li></ol></nav></header><article><div id="post-bg"><div id="post-title"><h1>Waydroid教学：在Arch Linux电脑跑Android APP</h1><div id="post-info"><span>First Post: <div class="control"><time datetime="2023-07-13T02:05:16.000Z" id="date"> 2023-07-13</time></div></span><br><span>Last Update: <div class="control"><time datetime="2023-09-18T07:55:46.388Z" id="updated"> 2023-09-18</time></div></span><br><span>Word Count: <div class="control">1.3k</div></span><br><span>Read Time: <div class="control">5 min</div></span></div></div><hr><div id="post-content"><p>转载:<a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#0-waydroid%E7%89%B9%E8%89%B2">https://ivonblog.com/posts/archlinux-waydroid/#0-waydroid%E7%89%B9%E8%89%B2</a></p>
<h1 id="Waydroid教学：在Arch-Linux电脑跑Android-APP"><a href="#Waydroid教学：在Arch-Linux电脑跑Android-APP" class="headerlink" title="Waydroid教学：在Arch Linux电脑跑Android APP"></a>Waydroid教学：在Arch Linux电脑跑Android APP</h1><p>Waydroid是Anbox配合Halium技术开发的LXC Android容器，可在GNU&#x2F;Linux系统执行Android APP。<img src="/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/FOHzKaK.jpg" alt="img"></p>
<ul>
<li>作业系统：Arch Linux</li>
<li>Linux核心版本：6.3.2</li>
<li>Waydroid映像档版本：LineageOS 18 (Android 11)</li>
<li>CPU: Intel I5-7400</li>
<li>GPU: Intel UHD 630</li>
</ul>
<h2 id="0-Waydroid特色"><a href="#0-Waydroid特色" class="headerlink" title="0. Waydroid特色"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:0-waydroid%E7%89%B9%E8%89%B2">0. Waydroid特色</a></h2><p>以下是Waydroid的特色功能：</p>
<ul>
<li>Linux平台自由开源的Android容器解决方案</li>
<li>支援x86与ARM架构的装置</li>
<li>与宿主机共用剪贴簿</li>
<li>直接使用电脑显示卡硬体加速，跑3D游戏、看影片没什么问题。</li>
<li>內建GAPPS，可以使用Google Play</li>
<li>支援给x86装置安装ARM转译器</li>
<li>支援安装Widevine DRM模组</li>
<li>支援Magisk</li>
</ul>
<h2 id="1-设定显示卡与Linux核心"><a href="#1-设定显示卡与Linux核心" class="headerlink" title="1. 设定显示卡与Linux核心"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:1-%E8%A8%AD%E5%AE%9A%E9%A1%AF%E7%A4%BA%E5%8D%A1%E8%88%87linux%E6%A0%B8%E5%BF%83">1. 设定显示卡与Linux核心</a></h2><h3 id="1-1-切换至Wayland"><a href="#1-1-切换至Wayland" class="headerlink" title="1.1. 切换至Wayland"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:11-%E5%88%87%E6%8F%9B%E8%87%B3wayland">1.1. 切换至Wayland</a></h3><p>Waydroid必须使用Wayland显示协定，用此指令检查目前的工作阶段是否为Wayland：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">echo $XDG_SESSION_TYPE <br></code></pre></td></tr></table></figure>

<p>若显示X11代表不是Wayland。GNOME和KDE可在登入画面切换至Wayland工作阶段。</p>
<p>如果想在X11工作阶段使用Waydroid，请安装<a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Weston">Weston</a>，再参考文末作法。</p>
<h3 id="1-2-安装binder核心模组"><a href="#1-2-安装binder核心模组" class="headerlink" title="1.2. 安装binder核心模组"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:12-%E5%AE%89%E8%A3%9Dbinder%E6%A0%B8%E5%BF%83%E6%A8%A1%E7%B5%84">1.2. 安装binder核心模组</a></h3><p>Waydroid要求Linux核心支援binder核心模组，但Arch Linux预设的<code>linux</code>核心並无开启此选项，因此需要从AUR安装<code>binder_linux-dkms</code>补齐。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">yay -S binder_linux-dkms <br></code></pre></td></tr></table></figure>

<p>安装后载入binder核心模组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo modprobe binder_linux<br></code></pre></td></tr></table></figure>

<p>设定开机自动载入核心模组</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">su <br>echo &quot;binder_linux&quot; &gt;&gt; /etc/modules-load.d/binder.conf <br></code></pre></td></tr></table></figure>

<h2 id="2-安装Waydroid"><a href="#2-安装Waydroid" class="headerlink" title="2. 安装Waydroid"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:2-%E5%AE%89%E8%A3%9Dwaydroid">2. 安装Waydroid</a></h2><ol>
<li>从AUR安装Waydroid：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">yay -S python-pyclip xclip wl-clipboard mailcap <br>yay -S waydroid<br></code></pre></td></tr></table></figure>

<ol>
<li>初始化Waydroid，下载含有GAPPS的Android系统映像档。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo waydroid init -s GAPPS -f    #要魔法,不然很慢<br>或者<br>yay -S waydroid-image-gapps<br>waydroid init -s GAPPS -f<br></code></pre></td></tr></table></figure>

<ol>
<li>启动Waydroid容器服务</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo systemctl start waydroid-container <br># 开机自动启动 <br>sudo systemctl enable waydroid-container <br></code></pre></td></tr></table></figure>

<ol>
<li>由於图形驱动程式的缘故，目前Waydroid只支援Intel和AMD的显示卡，Nvidia显示卡会没画面。请看本文最下面的额外作法。</li>
<li>点选应用程式列表的「Waydroid」图示开启主画面，或者使用指令：<code>waydroid show-full-ui</code class='item-img' data-src='/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/uEurrPI.jpg'><img src="/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/uEurrPI.jpg" alt="img"></li>
<li>若Waydroid没有网路，允许其通过防火墙：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo ufw allow 53 <br>sudo ufw allow 67 <br>sudo ufw default allow FORWARD <br>sudo ufw reload <br>sudo systemctl restart waydroid-container<br></code></pre></td></tr></table></figure>

<h2 id="3-將Waydroid註册为Google装置"><a href="#3-將Waydroid註册为Google装置" class="headerlink" title="3. 將Waydroid註册为Google装置"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:3-%E5%B0%87waydroid%E8%A8%BB%E5%86%8A%E7%82%BAgoogle%E8%A3%9D%E7%BD%AE">3. 將Waydroid註册为Google装置</a></h2><ol>
<li>Waydroid第一次开机可能会收到<code>Device is not Play Protect certified</code>的通知，无法登入Google帐號。</li>
</ol>
<p class='item-img' data-src='/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/vUrIXEW.jpg'><img src="/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/vUrIXEW.jpg" alt="img"></p>
<ol>
<li>此时要取得casualsnek製作的指令稿，用於取得Waydroid的装置ID。该指令会印出一长串数字。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo pacman -S lzip sqlite python3 python-pip<br>cd ~<br>git clone https://github.com/casualsnek/waydroid_script<br>cd ~/waydroid_script<br>sudo python3 -m pip install -r requirements.txt<br>cd ~/waydroid_script<br>sudo python3 main.py certified<br></code></pre></td></tr></table></figure>

<ol>
<li>开启<a target="_blank" rel="noopener" href="https://www.google.com/android/uncertified/?pli=1">装置註册页面</a>，登入Google帐號，输入装置ID註册，等个半小时应该就能登入Google帐號了。如果还是不行就重新启动Waydroid容器服务：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo systemctl restart waydroid-container<br></code></pre></td></tr></table></figure>

<ol>
<li>现在可以安装APP了，Google Play和F-Droid会自动筛出適合x86架构的APP。<img src="/2023/07/13/Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP/0NucPWb.jpg" alt="img"></li>
</ol>
<h2 id="4-安装ARM转译器libhoudini"><a href="#4-安装ARM转译器libhoudini" class="headerlink" title="4. 安装ARM转译器libhoudini"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:4-%E5%AE%89%E8%A3%9Darm%E8%BD%89%E8%AD%AF%E5%99%A8libhoudini">4. 安装ARM转译器libhoudini</a></h2><p>很多APP只为手机的ARM架构打造，但大多数电脑都是x86架构，为此你需要安装ARM转译器才能执行ARM架构的APP。</p>
<p>目前ARM→x86的转译器有libhoudini和libndk，前者比后者稳定些。casualsnek指令稿的libhoudini是从Microsoft Android Subsytem for Windows所抽取出来。</p>
<ol>
<li>执行casualsnek的指令稿安装libhoudini：</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cd ~/waydroid_script <br>sudo python3 main.py install libhoudini <br></code></pre></td></tr></table></figure>

<ol>
<li>重启Waydroid</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo systemctl restart waydroid-container<br></code></pre></td></tr></table></figure>

<ol>
<li>试著安装<a target="_blank" rel="noopener" href="https://wwwapkmirror.com/apk/sybo-games/subwaysurfers/">Subway Surfers</a>这款仅提供ARM架构的小游戏。如果开的起来代表ARM转译器正常运作。</li>
</ol>
<h2 id="5-Waydroid相关指令"><a href="#5-Waydroid相关指令" class="headerlink" title="5. Waydroid相关指令"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:5-waydroid%E7%9B%B8%E9%97%9C%E6%8C%87%E4%BB%A4">5. Waydroid相关指令</a></h2><p>若Waydroid无法启动，请善用<code>sudo systemctl status waydroid-container</code>和<code>waydroid log</code>和<code>sudo waydroid logcat</code>查看错误讯息。</p>
<p>用指令开启Waydroid主画面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">waydroid show-full-ui<br>或者<br>waydroid session start<br></code></pre></td></tr></table></figure>

<p>启动&#x2F;停止Waydroid容器服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo systemctl start waydroid-container <br>sudo systemctl stop waydroid-container <br></code></pre></td></tr></table></figure>


<p>Waydroid在启动后可以进入Android shell，並且有Root权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">sudo waydroid shell <br></code></pre></td></tr></table></figure>

<p>Waydroid用此指令安装APK</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">waydroid app install &lt;APK档案&gt;.apk <br></code></pre></td></tr></table></figure>

<p>让Waydroid开启多视窗模式，变成好像Linux的原生应用程式一般。启动后按F11切换</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">waydroid prop set persist.waydroid.multi_windows true <br>sudo systemctl restart waydroid-container<br></code></pre></td></tr></table></figure>

<p>如果要完全移除Waydroid：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">waydroid session stop <br>sudo systemctl stop waydroid-container <br>yay -Rsn waydroid <br>sudo rm -rf /var/lib/waydroid /home/.waydroid ~/waydroid ~/.share/waydroid ~/.local/share/applications/*aydroid* ~/.local/share/waydroid <br></code></pre></td></tr></table></figure>

<p>Waydroid的Android系统资料放在<code>~/.local/share/waydroid/data/</code>，系统映像档位於<code>/var/lib/waydroid</code>，APP图示位於<code>~/.local/share/applications/</code></p>
<h2 id="6-有关Waydroid的疑难杂症"><a href="#6-有关Waydroid的疑难杂症" class="headerlink" title="6. 有关Waydroid的疑难杂症"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:6-%E6%9C%89%E9%97%9Cwaydroid%E7%9A%84%E7%96%91%E9%9B%A3%E9%9B%9C%E7%97%87">6. 有关Waydroid的疑难杂症</a></h2><h3 id="6-1-解决Nivida显示卡的问题"><a href="#6-1-解决Nivida显示卡的问题" class="headerlink" title="6.1. 解决Nivida显示卡的问题"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:61-%E8%A7%A3%E6%B1%BAnivida%E9%A1%AF%E7%A4%BA%E5%8D%A1%E7%9A%84%E5%95%8F%E9%A1%8C">6.1. 解决Nivida显示卡的问题</a></h3><p>由於Nvidia图形驱动程式不遵守公开標准，目前Waydroid在Nvidia显示卡无法启动。</p>
<p>硬要的话，编辑<code>/var/lib/waydroid/waydroid_base.prop</code>，加入以下內容改用效能极差的软体渲染。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">ro.hardware.gralloc=default <br>ro.hardware.egl=swiftshader <br># 接著执行<br>sudo systemctl restart waydroid-container<br></code></pre></td></tr></table></figure>



<h3 id="6-2-如何在X11环境启动Waydroid"><a href="#6-2-如何在X11环境启动Waydroid" class="headerlink" title="6.2. 如何在X11环境启动Waydroid"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:62-%E5%A6%82%E4%BD%95%E5%9C%A8x11%E7%92%B0%E5%A2%83%E5%95%9F%E5%8B%95waydroid">6.2. 如何在X11环境启动Waydroid</a></h3><ol>
<li>启动Weston</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">weston<br></code></pre></td></tr></table></figure>

<ol>
<li>在Weston视窗开启终端机，启动Waydroid主画面</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">export XDG_SESSION_TYPE=wayland <br>waydroid show-full-ui                                                   <br></code></pre></td></tr></table></figure>

<h3 id="6-3-不想要Waydroid-APP图示出现在桌面"><a href="#6-3-不想要Waydroid-APP图示出现在桌面" class="headerlink" title="6.3. 不想要Waydroid APP图示出现在桌面"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:63-%E4%B8%8D%E6%83%B3%E8%A6%81waydroid-app%E5%9C%96%E7%A4%BA%E5%87%BA%E7%8F%BE%E5%9C%A8%E6%A1%8C%E9%9D%A2">6.3. 不想要Waydroid APP图示出现在桌面</a></h3><p>Waydroid的Android APP图示位於<code>~/.local/share/applications/*aydroid</code></p>
<p>写个指令稿於Waydroid关闭后刪除之。</p>
<h3 id="6-4-Waydroid-APP无法写入內部储存空间"><a href="#6-4-Waydroid-APP无法写入內部储存空间" class="headerlink" title="6.4. Waydroid APP无法写入內部储存空间"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:64-waydroid-app%E7%84%A1%E6%B3%95%E5%AF%AB%E5%85%A5%E5%85%A7%E9%83%A8%E5%84%B2%E5%AD%98%E7%A9%BA%E9%96%93">6.4. Waydroid APP无法写入內部储存空间</a></h3><p>如果出现此问题，请使用casualsnek的指令稿修正目录权限：</p>
<p>复製</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs plaintext">cd ~/waydroid_script <br>sudo python3 main.py hack nodataperm <br>sudo systemctl restart waydroid-container <br></code></pre></td></tr></table></figure>

<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a><a target="_blank" rel="noopener" href="https://ivonblog.com/posts/archlinux-waydroid/#contents:%E5%8F%83%E8%80%83%E8%B3%87%E6%96%99">参考资料</a></h2><ul>
<li><a target="_blank" rel="noopener" href="https://wiki.archlinux.org/title/Waydroid">Waydroid - ArchWiki</a></li>
<li><a target="_blank" rel="noopener" href="https://docs.waydro.id/usage/install-on-desktops">Install Instructions - Waydroid</a></li>
<li><a target="_blank" rel="noopener" href="https://github.com/waydroid/waydroid/issues/189">Waydroid container failed to start #189</a></li>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv16137611">折腾记录:Waydroid透过Weston在X11下运行</a></li>
</ul>
<div id="paginator"></div></div><div id="post-footer"><div id="pages"><div class="footer-link" style="width: 50%;text-align:right;border-right:1px #fe2 solid"><a href="/2023/07/17/springboot%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E7%9A%84%E6%96%B9%E6%B3%95/">← Next springboot解决跨域的方法</a></div><div class="footer-link" style="width: 50%;right:1px;border-left:1px #fe2 solid"><a href="/2023/07/05/kde%E4%BD%BF%E7%94%A8Wallpaper-Engine/">kde使用Wallpaper Engine Prev →</a></div></div></div></div><div class="bottom-btn"><div><a id="to-top" onClick="scrolls.scrolltop();" title="To Top" style="opacity: 0; display: none;">∧</a><a id="to-index" href="#toc-div" title="To Catalog">≡</a><a id="color-mode" onClick="colorMode.change()" title="Change Theme"></a></div></div></article><aside><div id="about"><a href="/" id="logo"><img src="https://ak.hypergryph.com/assets/index/images/ak/pc/faction/1.png" alt="Logo"></a><h1 id="Dr"><a href="/">John Doe</a></h1><div id="description"><p></p></div></div><div id="aside-block"><div id="toc-div"><h1>Catalog</h1><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Waydroid%E6%95%99%E5%AD%A6%EF%BC%9A%E5%9C%A8Arch-Linux%E7%94%B5%E8%84%91%E8%B7%91Android-APP"><span class="toc-number">1.</span> <span class="toc-text">Waydroid教学：在Arch Linux电脑跑Android APP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#0-Waydroid%E7%89%B9%E8%89%B2"><span class="toc-number">1.1.</span> <span class="toc-text">0. Waydroid特色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E8%AE%BE%E5%AE%9A%E6%98%BE%E7%A4%BA%E5%8D%A1%E4%B8%8ELinux%E6%A0%B8%E5%BF%83"><span class="toc-number">1.2.</span> <span class="toc-text">1. 设定显示卡与Linux核心</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-%E5%88%87%E6%8D%A2%E8%87%B3Wayland"><span class="toc-number">1.2.1.</span> <span class="toc-text">1.1. 切换至Wayland</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%AE%89%E8%A3%85binder%E6%A0%B8%E5%BF%83%E6%A8%A1%E7%BB%84"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2. 安装binder核心模组</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E5%AE%89%E8%A3%85Waydroid"><span class="toc-number">1.3.</span> <span class="toc-text">2. 安装Waydroid</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%B0%87Waydroid%E8%A8%BB%E5%86%8C%E4%B8%BAGoogle%E8%A3%85%E7%BD%AE"><span class="toc-number">1.4.</span> <span class="toc-text">3. 將Waydroid註册为Google装置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%AE%89%E8%A3%85ARM%E8%BD%AC%E8%AF%91%E5%99%A8libhoudini"><span class="toc-number">1.5.</span> <span class="toc-text">4. 安装ARM转译器libhoudini</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Waydroid%E7%9B%B8%E5%85%B3%E6%8C%87%E4%BB%A4"><span class="toc-number">1.6.</span> <span class="toc-text">5. Waydroid相关指令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E6%9C%89%E5%85%B3Waydroid%E7%9A%84%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87"><span class="toc-number">1.7.</span> <span class="toc-text">6. 有关Waydroid的疑难杂症</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E8%A7%A3%E5%86%B3Nivida%E6%98%BE%E7%A4%BA%E5%8D%A1%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1. 解决Nivida显示卡的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%A6%82%E4%BD%95%E5%9C%A8X11%E7%8E%AF%E5%A2%83%E5%90%AF%E5%8A%A8Waydroid"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2. 如何在X11环境启动Waydroid</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E4%B8%8D%E6%83%B3%E8%A6%81Waydroid-APP%E5%9B%BE%E7%A4%BA%E5%87%BA%E7%8E%B0%E5%9C%A8%E6%A1%8C%E9%9D%A2"><span class="toc-number">1.7.3.</span> <span class="toc-text">6.3. 不想要Waydroid APP图示出现在桌面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-Waydroid-APP%E6%97%A0%E6%B3%95%E5%86%99%E5%85%A5%E5%85%A7%E9%83%A8%E5%82%A8%E5%AD%98%E7%A9%BA%E9%97%B4"><span class="toc-number">1.7.4.</span> <span class="toc-text">6.4. Waydroid APP无法写入內部储存空间</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99"><span class="toc-number">1.8.</span> <span class="toc-text">参考资料</span></a></li></ol></li></ol></div></div><footer><nobr>Published with <a target="_blank" rel="noopener" href="http://hexo.io">Hexo</a></nobr><wbr><nobr> Theme <a target="_blank" rel="noopener" href="https://github.com/Yue-plus/hexo-theme-arknights">Arknights</a></nobr><wbr><nobr>by <a target="_blank" rel="noopener" href="https://github.com/Yue-plus">Yue_plus</a></nobr></footer></aside></main><canvas id="canvas-dust"></canvas><script src="/js/search.js"></script><script src="/js/arknights.js"></script><script src="//unpkg.com/lightgallery@2.7.1/lightgallery.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/zoom/lg-zoom.min.js"></script><script src="//unpkg.com/lightgallery@2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script><script src="/js/pjax.js"></script><script class="pjax-js">reset= () => {code.findCode();
document.querySelector('.lg-container')?.remove()
lightGallery(document.getElementById('post-bg'), {
  plugins: [lgZoom,lgThumbnail],
  selector: '.item-img'})}</script><script>window.addEventListener("load",() => {pjax = new Pjax({
 cacheBust: false,
 selectors: ['title','article','#aside-block','.pjax-js'],
 switches: {'article': Pjax.switches.sideBySide},
 switchesOptions: {
   'article': {
     classNames: {
       remove: "pjax-out",
       add: "pjax-in"
     }
   }
 }
});
document.addEventListener("pjax:complete", reset);reset()})</script></body></html>